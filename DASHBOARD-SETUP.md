# Portfolio Dashboard Setup & Configuration

## üéØ Dashboard Overview

**Last Updated**: 25th July 2025

### Current Status
- **Status**: ‚úÖ Live and Active with Real-time Updates
- **URL**: `https://shahharsh06.github.io/harsh-portfolio/dashboard.html`
- **Coverage**: 97.2% (400+ tests passing)
- **Auto-updates**: ‚úÖ CI/CD triggers
- **Theme Integration**: ‚úÖ Immediate theme switching with Lucide icons
- **Mobile Responsive**: ‚úÖ Optimized for all screen sizes

## üìä Dashboard Features

### Core Metrics Display
- **Overall Coverage**: 97.2% (Target: 80%)
- **Total Tests**: 400+ (All passing)
- **Function Coverage**: 91% (Target: 80%)
- **Security Score**: 100% (No high severity issues)

### Interactive Components
- **Coverage Chart**: Doughnut chart showing covered vs uncovered code
- **Test Trend Chart**: Line chart with dynamic Y-axis scaling
- **Component Coverage**: Detailed breakdown by component
- **Test Categories**: Breakdown by test type
- **Quality Metrics**: TypeScript, linting, and security scores
- **CI/CD Status**: Real-time pipeline status updates

### Visual Elements
- **Theme Integration**: Immediate light/dark mode switching
- **Responsive Design**: Mobile-optimized layout
- **Lucide React Icons**: Consistent iconography
- **Gradient Styling**: Matches portfolio design system
- **Interactive Cards**: Hover effects and animations
- **Dynamic Charts**: Auto-scaling Y-axis for high values

## üöÄ Dashboard Configuration

### File Structure
```
public/
‚îú‚îÄ‚îÄ dashboard.html          # Main dashboard file
‚îú‚îÄ‚îÄ dashboard.js            # Dashboard JavaScript with real-time updates
‚îú‚îÄ‚îÄ dashboard-data.json     # Metrics data (auto-generated)
‚îî‚îÄ‚îÄ dashboard-history.json  # Historical data for trend charts
```

### Dashboard HTML Structure
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags and styling -->
    <title>Portfolio Dashboard - Test Coverage & Code Quality</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Header with immediate theme toggle -->
    <!-- Overview cards with real-time metrics -->
    <!-- Charts section with dynamic scaling -->
    <!-- Detailed metrics -->
    <!-- CI/CD status with live updates -->
    <!-- Simple coverage messaging -->
    <!-- Footer -->
</body>
</html>
```

### Dashboard JavaScript Features
```javascript
// Real-time data updates
async function updateDashboardFromJson() {
    try {
        const response = await fetch('dashboard-data.json');
        const data = await response.json();
        // Update all metrics and charts
    } catch (error) {
        console.error('Failed to update dashboard:', error);
    }
}

// Auto-update every 30 seconds
setInterval(checkForNewCommitAndUpdate, 30000);

// Dynamic Y-axis scaling for charts
suggestedMax: function(context) {
    const chart = context.chart;
    const datasets = chart.data.datasets;
    let maxValue = 0;
    
    datasets.forEach(dataset => {
        const datasetMax = Math.max(...dataset.data.filter(val => val !== null && val !== undefined));
        if (datasetMax > maxValue) {
            maxValue = datasetMax;
        }
    });
    
    // Add 10% padding to the top
    return Math.ceil(maxValue * 1.1);
}

// Immediate theme toggle
function updateThemeIcon() {
    const iconContainer = themeToggle.querySelector('div');
    while (iconContainer.firstChild) {
        iconContainer.removeChild(iconContainer.firstChild);
    }
    const icon = document.createElement('i');
    icon.setAttribute('data-lucide', html.classList.contains('dark') ? 'sun' : 'moon');
    iconContainer.appendChild(icon);
    lucide.createIcons();
}
```

## üìà Metrics Integration

### Coverage Data Sources
- **LCOV Reports**: Generated by Vitest coverage
- **Test Results**: From CI/CD pipeline
- **Build Status**: From GitHub Actions
- **Security Data**: From npm audit results
- **Real-time Updates**: GitHub API integration

### Data Flow
1. **CI/CD Pipeline** runs tests and generates coverage
2. **Dashboard Workflow** parses coverage data
3. **Metrics Updated** in dashboard-data.json
4. **Real-time Updates** fetch latest data every 30 seconds
5. **Auto-commit** changes to repository
6. **GitHub Pages** deploys updated dashboard

### Coverage Calculation
```bash
# Parse coverage from lcov.info
TOTAL_LINES=$(grep -E "^LF:" coverage/lcov.info | awk -F: '{sum += $2} END {print sum}')
COVERED_LINES=$(grep -E "^LH:" coverage/lcov.info | awk -F: '{sum += $2} END {print sum}')
COVERAGE_PERCENTAGE=$(echo "scale=2; $COVERED_LINES * 100 / $TOTAL_LINES" | bc)
```

## üé® Design System

### Color Scheme
```css
/* Light Mode */
--background: 0 0% 100%;
--foreground: 222.2 84% 4.9%;
--primary: 221.2 83.2% 53.3%;
--secondary: 210 40% 96%;

/* Dark Mode */
--background: 222.2 84% 4.9%;
--foreground: 210 40% 98%;
--primary: 217.2 91.2% 59.8%;
--secondary: 217.2 32.6% 17.5%;
```

### Coverage Colors
```css
.coverage-excellent { background: linear-gradient(135deg, #10b981, #059669); }
.coverage-good { background: linear-gradient(135deg, #f59e0b, #d97706); }
.coverage-poor { background: linear-gradient(135deg, #ef4444, #dc2146); }
```

### Typography
- **Font Family**: Inter (Google Fonts)
- **Weights**: 300, 400, 500, 600, 700
- **Responsive**: Scales appropriately on mobile

## üîß CI/CD Integration

### Dashboard Update Workflow
```yaml
name: Update Dashboard
on:
  workflow_run:
    workflows: ["CI/CD Pipeline", "Deploy to GitHub Pages"]
    types: [completed]
  workflow_dispatch:

jobs:
  update-dashboard:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      actions: read
    steps:
      - Checkout code
      - Setup Node.js 18
      - Install dependencies
      - Run tests with coverage
      - Generate dashboard data
      - Update dashboard HTML
      - Commit and push changes
```

### Update Process
1. **Trigger**: CI/CD completion (on code commit/merge) or manual workflow dispatch
2. **Test Execution**: Run tests with coverage
3. **Data Parsing**: Extract metrics from coverage reports
4. **HTML Update**: Replace hardcoded values with dynamic data
5. **Commit**: Auto-commit changes with descriptive message
6. **Deploy**: GitHub Pages automatically deploys updates
7. **Real-time Updates**: Dashboard fetches latest data every 30 seconds

## üìä Current Metrics

### Coverage Breakdown
- **Statements:** 94.69%
- **Branches:** 92.61%
- **Functions:** 84.7%
- **Lines:** 94.69%
- **Total Tests:** 400+ (all passing)
- **Component Coverage:** Updated to reflect current state

### Component Coverage
- **About.tsx**: 100% coverage
- **CareerEducation.tsx**: 100% coverage
- **CursorEffect.tsx**: 100% coverage
- **Skills.tsx**: 100% coverage
- **Hero.tsx**: 93.6% coverage
- **Projects.tsx**: 92.3% coverage
- **Contact.tsx**: 90.55% coverage
- **Navigation.tsx**: 98.16% coverage
- **Footer.tsx**: 95%+ coverage
- **ThemeToggle.tsx**: 100% coverage

### Test Categories
- **Component Tests:** 95+ tests
- **UI Tests:** 73+ tests
- **Utility Tests:** 27+ tests
- **Integration Tests:** 16+ tests
- **Hook Tests:** 26+ tests
- **Unit Tests:** Comprehensive coverage for all utilities

### Quality Metrics
- **TypeScript Coverage**: 100%
- **Linting Score**: 100%
- **Build Success Rate**: 100%
- **Deployment Success**: 100%
- **Security Vulnerabilities**: 0

## üéØ Dashboard Sections

### 1. Overview Cards
- **Overall Coverage**: 94.69% with progress bar
- **Total Tests**: 400+ tests with status
- **Function Coverage**: 84.7% with threshold
- **Security Score**: 95% with status

### 2. Charts Section
- **Coverage Breakdown**: Doughnut chart
- **Test Results Trend**: Line chart with dynamic Y-axis scaling

### 3. Detailed Metrics
- **Component Coverage**: Individual component breakdown
- **Test Categories**: Test type distribution
- **Quality Metrics**: Code quality indicators

### 4. CI/CD Status
- **Test Pipeline**: Status with test count
- **Coverage**: Status with percentage
- **Deployment**: Status with platform

### 5. Coverage Status
- **Simple messaging**: Encouraging coverage status without repetitive metrics

## üõ†Ô∏è Customization

### Adding New Metrics
1. **Update Workflow**: Add metric calculation in dashboard.yml
2. **Update HTML**: Add new card or section in dashboard.html
3. **Update JavaScript**: Add chart or display logic
4. **Test**: Verify metric updates correctly

### Modifying Charts
```javascript
// Update chart data with dynamic scaling
coverageChart.data.datasets[0].data = [newCoverage, newUncovered];
coverageChart.update();

// Add new chart with auto-scaling
const newChart = new Chart(newCtx, {
    type: 'bar',
    data: { /* chart data */ },
    options: { 
        scales: {
            y: {
                suggestedMax: function(context) {
                    // Auto-calculate max value
                    return Math.ceil(maxValue * 1.1);
                }
            }
        }
    }
});
```

### Theme Customization
```css
/* Add new theme colors */
:root {
    --custom-color: 220 13% 91%;
}

.dark {
    --custom-color: 220 13% 18%;
}

/* Use in components */
.custom-element {
    background-color: hsl(var(--custom-color));
}
```

## üì± Responsive Design

### Breakpoints
- **Mobile**: < 768px
- **Tablet**: 768px - 1024px
- **Desktop**: > 1024px

### Mobile Optimizations
- **Stacked Layout**: Cards stack vertically
- **Simplified Charts**: Reduced chart complexity
- **Touch-friendly**: Larger touch targets
- **Optimized Typography**: Readable font sizes

### Tablet Optimizations
- **Grid Layout**: 2-column grid for cards
- **Side-by-side Charts**: Charts display horizontally
- **Medium Typography**: Balanced font sizes

### Desktop Optimizations
- **Multi-column Layout**: 3-4 column grid
- **Full Charts**: Complete chart functionality
- **Hover Effects**: Enhanced interactivity

## üîç Troubleshooting

### Common Issues

#### 1. Dashboard Not Updating
```bash
# Check workflow status
gh run list --workflow=dashboard.yml

# Check dashboard file
cat public/dashboard.html

# Check data file
cat public/dashboard-data.json

# Check real-time updates
curl https://shahharsh06.github.io/harsh-portfolio/dashboard-data.json
```

#### 2. Charts Not Loading
```javascript
// Check Chart.js loading
if (typeof Chart === 'undefined') {
    console.error('Chart.js not loaded');
    // Load fallback
    const script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js';
    document.head.appendChild(script);
}
```

#### 3. Theme Not Switching
```javascript
// Check theme toggle with immediate updates
const themeToggle = document.getElementById('themeToggle');
if (themeToggle) {
    themeToggle.addEventListener('click', () => {
        html.classList.toggle('dark');
        updateThemeIcon(); // Immediate icon update
        updateCharts(); // Re-render charts for new theme
    });
}
```

#### 4. Y-axis Scaling Issues
```javascript
// Check if suggestedMax function is working
console.log('Chart max value:', chart.data.datasets[0].data);
console.log('Suggested max:', chart.options.scales.y.suggestedMax);
```

### Debug Commands
```bash
# Check dashboard accessibility
curl -I https://shahharsh06.github.io/harsh-portfolio/dashboard.html

# Check data file
curl https://shahharsh06.github.io/harsh-portfolio/dashboard-data.json

# Check workflow logs
gh run view <run-id> --log

# Check real-time updates
watch -n 30 'curl -s https://shahharsh06.github.io/harsh-portfolio/dashboard-data.json | jq .lastUpdated'
```

## üöÄ Recent Enhancements

### Real-time Updates
- ‚úÖ **Auto-refresh every 30 seconds**
- ‚úÖ **GitHub API integration**
- ‚úÖ **Dynamic data fetching**
- ‚úÖ **Error handling and logging**

### Chart Improvements
- ‚úÖ **Dynamic Y-axis scaling** for values > 400
- ‚úÖ **Persistent chart labels** after theme changes
- ‚úÖ **Auto-calculated max values**
- ‚úÖ **Enhanced chart responsiveness**

### Theme Integration
- ‚úÖ **Immediate theme toggle** without page refresh
- ‚úÖ **Lucide icons** instead of emojis
- ‚úÖ **Persistent theme state**
- ‚úÖ **Chart theme synchronization**

### Mobile Responsiveness
- ‚úÖ **Optimized mobile layout**
- ‚úÖ **Touch-friendly interactions**
- ‚úÖ **Responsive chart scaling**
- ‚úÖ **Mobile-optimized typography**

### Performance Improvements
- ‚úÖ **Lazy loading** for charts
- ‚úÖ **Optimized data fetching**
- ‚úÖ **Reduced bundle size**
- ‚úÖ **Faster load times**

## üöÄ Future Enhancements

### Planned Features
1. **Advanced Analytics**: Detailed performance metrics
2. **Historical Data**: Coverage trends over time
3. **Custom Alerts**: Notifications for coverage drops
4. **Export Features**: PDF/CSV export of metrics
5. **Interactive Filters**: Filter metrics by date/component

### Performance Improvements
1. **Service Worker**: Offline dashboard access
2. **CDN Integration**: Faster asset loading
3. **Caching Strategy**: Optimized data caching
4. **Progressive Loading**: Load critical metrics first

### Analytics Integration
1. **Google Analytics**: Track dashboard usage
2. **Custom Events**: Track user interactions
3. **Performance Monitoring**: Track load times
4. **Error Tracking**: Monitor dashboard errors

---

*This dashboard is automatically updated via CI/CD pipeline on code commit (push/merge) or manual workflow dispatch.* 